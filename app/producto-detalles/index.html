<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innova Tech | Producto Detalle | SISE</title>
    <link rel="stylesheet" href="/variables.css">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/app/producto-detalles/producto-detalles.css">
</head>
<body>

    <header>
        <img src="/assets/images/logo_innova_tech.webp" width="50px" alt="">
        <nav>
            <ul>
                <li><a href="/">Inicio</a></li>
                <li><a href="/app/productos">Productos</a></li>
                <li><a href="/app/ofertas">Ofertas</a></li>
                <li><a href="/app/contactos">Contactos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="main-container">
            <h1 id="id-titulo-producto" class="titulo-producto"></h1>
            <div class="detalle-container">
                <div class="detalle-img">
                    <img id="id-imagen-producto" src="" alt="banner 1" height="400px" width="400px">
                </div>
                <div class="contenido-img">
                    <p id="id-descripcion-producto"></p>
                    <p id="id-codigo"></p>
                    <p id="id-precio"></p>
                    <button>+</button>
                    <span>cantidad</span>
                    <button>-</button>
                    <button>a√±adir al carrito</button>
                </div>
            </div>
        </div>
    </main>
    
</body>
<script>

    async function cargarProductoDetalle(){
        const queryString = window.location.search;
        console.log('queryString',queryString);

        const params = new URLSearchParams(queryString);
        const idProducto = params.get('idProducto');

        console.log('idProducto',idProducto);

        const result = await fetch(`http://localhost:3000/productos?id=${idProducto}`);
        const data = await result.json();
        console.log('data::', data);

        const producto = data[0];

        document.getElementById('id-titulo-producto').textContent=producto.nombre;
        document.getElementById('id-descripcion-producto').textContent=producto.descripcion;
        document.getElementById('id-codigo').textContent=`Codigo: ${producto.codigo}`;
        document.getElementById('id-precio').textContent=`S/. ${producto.precio}`;
        document.getElementById('id-imagen-producto').setAttribute('src',producto.urlImagen);

    }
    
    cargarProductoDetalle();

</script>
</html>